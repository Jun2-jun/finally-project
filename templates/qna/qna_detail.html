<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>닥터퓨쳐 - Q&A 상세</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/patient.css') }}">
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <!-- 사이드바 -->
      {% include 'sidebar/sidebar.html' %}

      <!-- 본문 -->
      <div class="col-md-10 p-4">
        <div class="mb-4">
          <h4>Q&A 상세 보기</h4>
          <hr>
        </div>

        <div class="card">
          <div class="card-header bg-light">
            <h5 id="post-title" class="mb-0">로딩 중...</h5>
            <small class="text-muted">
              작성자: <span id="post-author">-</span> |
              작성일: <span id="post-date">-</span>
            </small>
          </div>
          <div class="card-body">
            <div id="post-content" class="mt-3">내용을 불러오는 중입니다...</div>
          </div>
          
          <!-- 댓글 입력 영역 추가 -->
          <div class="mt-4">
            <h5>댓글 작성</h5>
            <textarea id="comment-input" class="form-control mb-2" rows="3" placeholder="댓글을 입력하세요..."></textarea>
            <button class="btn btn-primary" onclick="submitComment()">댓글 등록</button>
          </div>
          
          <!-- 댓글 리스트 출력 -->
          <div class="mt-5">
            <h5>댓글 목록</h5>
            <div id="comment-list" class="border rounded p-3 bg-light"></div>
          </div>
          
          <div class="mt-4 text-end">
            <a href="/qna" class="btn btn-secondary">목록으로</a>
            <button id="delete-button" class="btn btn-danger ms-2" onclick="deletePost()">삭제</button>
          </div>
      </div>
    </div>
  </div>
  <script src="{{ url_for('static', filename='js/checkLogin.js') }}"></script>
  <script src="{{ url_for('static', filename='js/userInfo.js') }}"></script>
  <script src="{{ url_for('static', filename='js/qna_detail.js') }}"></script>
</body>
</html>
