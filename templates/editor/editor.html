
<form method="POST" action="{{ url_for('qna.qna_write') }}" id="content-form" enctype="multipart/form-data">
  <div class="editor-container">

    <!-- 툴바 -->
    <div class="toolbar mb-2">
      <!-- 텍스트 서식 -->
      <button type="button" id="bold" title="굵게"><i class="fas fa-bold"></i></button>
      <button type="button" id="italic" title="기울임"><i class="fas fa-italic"></i></button>
      <button type="button" id="underline" title="밑줄"><i class="fas fa-underline"></i></button>
      <button type="button" id="strikethrough" title="취소선"><i class="fas fa-strikethrough"></i></button>
      <div class="separator"></div>

      <!-- 정렬 -->
      <button type="button" id="align-left" title="왼쪽 정렬"><i class="fas fa-align-left"></i></button>
      <button type="button" id="align-center" title="가운데 정렬"><i class="fas fa-align-center"></i></button>
      <button type="button" id="align-right" title="오른쪽 정렬"><i class="fas fa-align-right"></i></button>
      <button type="button" id="align-justify" title="양쪽 정렬"><i class="fas fa-align-justify"></i></button>
      <div class="separator"></div>

      <!-- 리스트 & 들여쓰기 -->
      <button type="button" id="list-ul" title="글머리 기호"><i class="fas fa-list-ul"></i></button>
      <button type="button" id="list-ol" title="번호 매기기"><i class="fas fa-list-ol"></i></button>
      <button type="button" id="indent" title="들여쓰기"><i class="fas fa-indent"></i></button>
      <button type="button" id="outdent" title="내어쓰기"><i class="fas fa-outdent"></i></button>
      <div class="separator"></div>

      <!-- 폰트 및 색상 -->
      <select id="font-size" class="font-size-select" title="글자 크기">
        <option value="1">크기 1</option>
        <option value="2">크기 2</option>
        <option value="3" selected>크기 3</option>
        <option value="4">크기 4</option>
        <option value="5">크기 5</option>
        <option value="6">크기 6</option>
        <option value="7">크기 7</option>
      </select>

      <input type="color" id="font-color" class="color-picker" title="글자 색상" value="#000000">
      <input type="color" id="bg-color" class="color-picker" title="배경 색상" value="#ffffff">
      <div class="separator"></div>

      <!-- 이미지 삽입 등 -->
      <button type="button" id="image" title="이미지 삽입"><i class="fas fa-image"></i></button>
      <button type="button" id="undo" title="실행 취소"><i class="fas fa-undo"></i></button>
      <button type="button" id="redo" title="다시 실행"><i class="fas fa-redo"></i></button>
      <button type="button" id="clear" title="초기화"><i class="fas fa-trash"></i></button>
    </div>

    <!-- 에디터 -->
    <div class="editor" id="editor" contenteditable="true"></div>
    <input type="hidden" name="comment" id="comment">
    <textarea name="comment" id="comment" style="display: none;"></textarea>
    </div>
    
    <!-- 이미지 개수 및 업로드 리스트 -->
            <div class="mt-3">
              <span>업로드된 이미지: <span id="image-count">0</span> / 5</span>
              <div id="uploaded-images" class="mt-2"></div>
            </div>

            <!-- 등록 버튼 -->
            <div class="mt-4 text-end">
              <a href="/qna" class="btn btn-danger">목록으로 돌아가기</a>
              <button type="submit" class="btn btn-primary">등록</button>
            </div>
</form>

<!-- 이미지 삽입 모달 -->
<div class="image-modal" id="image-modal">
  <div class="image-modal-content">
    <div class="modal-header">
      <h3>이미지 삽입</h3>
      <span class="modal-close" id="close-modal">&times;</span>
    </div>
    <div class="image-tab">
      <button class="tab-button active" data-tab="upload">내 파일에서</button>
      <button class="tab-button" data-tab="url">URL로</button>
    </div>
    <div class="tab-content active" id="upload-tab">
      <div class="file-upload-area" id="drop-area">
        <p>이미지를 드래그하거나 클릭</p>
        <input type="file" id="file-upload" accept="image/*">
      </div>
      <img id="upload-preview" class="image-preview">
      <button type="button" id="insert-upload" class="btn btn-success mt-2" disabled>삽입</button>
    </div>
    <div class="tab-content" id="url-tab">
      <input type="text" id="image-url" class="url-input" placeholder="이미지 URL 입력">
      <img id="url-preview" class="image-preview" src="" alt="미리보기">
      <button type="button" id="insert-url" class="btn btn-success mt-2">삽입</button>
    </div>
  </div>
</div>

<!-- 에디터 placeholder 처리 스크립트 -->
<script src="{{ url_for('static', filename='js/editor.js') }}"></script>