<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>닥터퓨처 - 자유게시판</title>
  <link rel="icon" href="{{ url_for('static', filename='img/logo4.png') }}" type="image/png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/patient.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/qna_detail.css') }}">
</head>
<body data-server-ip="{{ SERVER_IP }}">

  {% include 'sidebar/sidebar.html' %}

  <div class="container-fluid with-sidebar pt-5 px-5" style="max-width: calc(100% - 113px);">
    <div class="bg-white p-4 rounded shadow-sm">

      <!-- 상단 정보 -->
      <div class="d-flex justify-content-between align-items-center border-bottom pb-2 mb-3">
        <h2 id="post-title" class="fw-bold text-dark fs-2">제목 로딩중...</h2>
        <div class="text-muted small text-end">
          <div id="post-date">작성일: -</div>
          <div id="post-author">작성자: -</div>
        </div>
      </div>

      <!-- 본문 내용 -->
      <div id="post-content" class="mb-4" style="white-space: pre-wrap;">
        내용을 불러오는 중입니다...
      </div>

      <!-- 삭제 버튼 -->
      <div class="text-end">
        <button id="delete-button" class="btn btn-danger d-none" onclick="deletePost()">삭제하기</button>
      </div>
    </div>

    <!-- 댓글 리스트 -->
    <div class="bg-white p-4 mt-4 rounded shadow-sm">
      <h5 style="font-weight: bold;">「 댓글 목록 」</h5>
      <div id="comment-list" class="mt-3">
        <!-- 댓글이 동적으로 로드될 위치 -->
        <div class="text-center p-3 text-muted">댓글을 불러오는 중입니다...</div>
      </div>
    </div>

    <div class="bg-white p-4 mt-4 rounded shadow-sm">
      <h5 style="font-weight: bold;">댓글 작성</h5>
      <div id="comment-list" class="mb-3"></div>
      <div class="mt-3">
        <textarea id="comment-input" class="form-control" placeholder="댓글을 입력하세요"></textarea>
        <button class="btn btn-primary mt-2" onclick="submitComment()">댓글 등록</button>
      </div>
    </div>

    <!-- 목록으로 돌아가기 -->
    <div class="text-end mt-4">
      <a href="/qna" class="btn btn-secondary">목록으로 돌아가기</a>
    </div>
  </div>

  <!-- JS 연결 -->
  <script src="{{ url_for('static', filename='js/qna_detail.js') }}"></script>

</body>
</html>
